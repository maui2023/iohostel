# 📄 Product Requirements Document (PRD)

## Hostel Check-In/Check-Out System

---

### 🏷 Project Name

**Hostel Check-In/Out System**

---

### 🌐 System Configuration

* **Backend Language**: PHP 8.3
* **Database**: MySQL
* **Frontend**: Bootstrap 5.3
* **Environment Configuration (.env)**:

  * `HOSTEL_NAME=Dynamic Hostel Name` *(set by .env)*

---

### 🎯 Objective

To manage and track student check-in and check-out activities from a hostel, with real-time notifications sent to parents via WhatsApp and QR code scanning by guards.

---

### 👥 User Roles & Access

| Role           | Login | Permissions                                                                                |
| -------------- | ----- | ------------------------------------------------------------------------------------------ |
| **Superadmin** | ✅     | - Create, edit, and disable Admins and Guards                                              |
| **Admin**      | ✅     | - Create, edit, and disable Students and Parents<br>- Generate student QR codes            |
| **Guard**      | ✅     | - Scan student QR codes to record check-in/out<br>- Send WhatsApp notifications to parents |
| **Parent**     | ✅     | - Access their child’s in/out history via secure WhatsApp login link                       |
| **Student**    | ❌     | - No login needed                                                                          |

---

### 🧩 Core Features

#### 1. Superadmin Panel

* Secure login.
* Manage Admin and Guard accounts.
* View user status and deactivate/reactivate accounts.

#### 2. Admin Panel

* Add and manage student records.
* Link students to their parent(s).
* Generate a **unique QR code per student**.
* Manage parent accounts (create, update, deactivate).
* QR code can be printed or saved.

#### 3. Guard Panel

* Login to scan student QR codes.
* Upon scan, select action: `Check-In` or `Check-Out`.
* System will automatically:

  * Record the log in the database.
  * Send WhatsApp message to the parent(s):

    ```
    [Student Name] has [Checked-In/Checked-Out] at [Date Time].
    View log here: [login link for parent]
    ```
* Simple search or scan interface.

#### 4. Parent View

* Receive login link via WhatsApp when student checks in/out.
* Login with phone/email or OTP to view their child’s in/out log.
* Read-only access.

---

### 📸 QR Code Workflow

* **Generated by Admin** per student.
* QR contains secure student ID or token (e.g., `/scan.php?code=XXXXXX`)
* **Scanned by Guard** to:

  * Identify the student
  * Prompt for `In` or `Out`
  * Log timestamp, guard, and action

---

### 🗃 Database Structure (Simplified)

```sql
users (id, role, name, email, phone, password, status)
students (id, name, ic_no, parent_id, qr_code, status)
parents (id, name, phone, email, password, status)
inout_logs (id, student_id, action, timestamp, guard_id)
```

---

### 📱 WhatsApp Integration

* Use `wa.me` link with prefilled message text:

  ```
  https://wa.me/6[PHONENUMBER]?text=Your child [Name] has [Checked-In/Out] at [Hostel Name] - [Time]. View: [URL]
  ```
* Optional: Use third-party WhatsApp API for automation (future upgrade)

---

### 🔐 Access & Security

* Role-based access control (RBAC)
* Passwords stored with secure hashing
* Tokens or OTPs for parent links (expires after use or short time)

---

### 🖼 UI Design (Bootstrap 5.3)

* Responsive login pages per role
* Admin dashboard: list of students + QR generation
* Guard dashboard: camera scan view + log entry
* Parent view: simple log list with timestamps

---

### 🔧 Future Enhancements

* Weekly PDF reports for Admins
* QR code expiry (optional)
* Live camera snapshot on scan (if hardware supports)
* Parent push notification or SMS fallback

---
